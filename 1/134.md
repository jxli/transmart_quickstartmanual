# 高级工作流
tranSMART 提供了数据高级的分析和可视化，允许用户进行如下的数据集管理：
* aCGH生存分析
* ANOVA箱图(Box Plot with ANOVA)
* 关联性分析
* aCGH频率图
* aCGH组测试
* RNA序列组测试
* 热图(Heatmap)
* 层次聚类
* IC50
* K-均值聚类
* 线图
* 逻辑回归
* 标志物选择(Marker Selection)
* 主成分分析
* 线性回归后的散布图
* 生存分析
* 费歇尔检验表(Table with Fisher Test)
* 瀑布图

数据集管理器使用R软件环境进行数据计算，生成分析和可视化。有关更多信息，请访问：http://www.r-project.org.

## 热图(Heatmap)
在一个数据集管理器中，生物标志会出现在y轴上，受试者会出现在x轴上。

生成一个热图步骤如下：

1.进入'分析'标签，拖动'female'节点到子集1中，然后拖动'male'节点到子集2中。

2.进入'高级工作流'标签，点击'分析'选择按钮，选择'热图'分析。

![](../images/advanceAnalyses.png)

3.在变量选择框中拖入一个高维的数据节点，如'Lung'节点。点击'高维数据'按钮，在选择一个基因中中输入'Gene'，在弹出的选择项中选择一个您感兴趣的基因，最后点击应用选择。

![](../images/advanceAnalyses1.png)

4.点击'运行'按钮，生成热图。

![](../images/advanceAnalyses2.png)

## ANOVA箱图(Box Plot with ANOVA)
用ANOVA箱图显示样品中的盒状图和相应的方差分析线图。

生成一个ANOVA箱图步骤如下：

1.运行tranSMART，然后点击'分析'标签。

2.通过从一个案例中拖动一个或者更多的概念到子集定义框中来定义您希望选择的队列。
* 只有一个子集可以被指定在这个分析方法中，在子集2中的信息将会被忽略。

![](../images/BoxPlotWithANOVA.png)

3.点击'高级工作流'标签,从弹出的列表中选择ANOVA箱图(Box Plot with ANOVA)

![](../images/BoxPlotWithANOVA1.png)

4.在变量选择区出现后，您将需要确定在案列中那些变量是自变量，以及那些变量是因变量。至少一个变量应该是连续的（例如，年龄），一个变量应该是离散的（例如，组织型）。
* 如果自变量定义成组，盒子将会被绘制成水平方向上的。如果
因变量定义成组，盒子将会被绘制成垂直方向上的。

![](../images/BoxPlotWithANOVA2.png)

5.定义变量。
* 在这个例子中，数据的分箱特性是没有被使用的。作为将来的参考，数据分箱是指一种预处理技术用于减少小的观测误差。数据群集被集群的值代表取代（核心价值）。

6.点击'运行'按钮。您的分析结果将会自动产生。

![](../images/BoxPlotWithANOVA3.png)



##关联性分析

关联性分析是研究现象之间是否存在某种依存关系，并对具体有依存关系的现象探讨其相关方向以及相关程度。

执行一个关联性分析步骤如下：

1.进入'分析'标签，定义你所想要分析的案例，通过拖放一个或多个主题放到空的子集定义栏。例如，拖动'female'节点到子集1中，然后拖动'male'节点到子集2中。

2.进入'高级工作流'标签，点击'分析'选择按钮，选择'关联性分析'。

![](../images/advanceAnalyses104.png)

3.在变量选择框中拖入两个或两个以上的数值放入关联性统计的盒子中，如'年龄'和'身高'节点。并选择一个你感兴趣的关联类型。
![](../images/advanceAnalyses105.png)

4.点击'运行'按钮，你的分析如下：

![](../images/advanceAnalyses106.png)



##层次聚类
层次聚类是在基因表达数据中的相关数据点的可视化模式。

生成一个层次聚类热图步骤如下：

1.进入'分析'标签，定义你所想要分析的案例，通过拖放一个或多个主题放到空的子集定义栏。例如，拖动'female'节点到子集1中，然后拖动'male'节点到子集2中。

2.进入'高级工作流'标签，点击'分析'选择按钮，选择'层次聚类'分析。

![](../images/advanceAnalyses100.png)

3.在变量选择框中拖入一个高维的数据节点，如'Lung'节点。点击'高维数据'按钮，选择你所感兴趣的因子，如在选择一个基因中中输入'Gene'，在弹出的选择项中选择一个您感兴趣的基因，最后点击应用选择。
![](../images/advanceAnalyses101.png)

4.点击'运行'按钮，生存热图。

![](../images/advanceAnalyses103.png)

## K-均值聚类
K-均值聚类是一个可视化的最密切相关的数据点分组。它是基于您指定的分组数量进行的分组。

生成一个K-均值聚类步骤如下：

1.运行tranSMART,点击'分析'标签。通过从一个案例中拖动一个或者多个概念到空的子集定义箱中来定义您希望分析的队列。

* 如果想比较两个子集，您也许可以拖动一个额外的概念到子集2比较箱中。

![](../images/K-meansClustering.png)

2.点击'高级工作流'标签，从分析中的下拉列表中选择k-均值聚类。

![](../images/K-meansClustering1.png)

3.定义变量选择，从数据集管理树中选择一个高维节点，并拖入箱中，点击'高维数据'按钮。对比子集路径选择对话框就会出现。指定平台和一些其他的您感兴趣的因素。最后点击'应用选择'按钮。

![](../images/K-meansClustering2.png)

4.在聚类数量定义域中，输入一个数值变量，点击'运行'按钮。您需要的分析结果就会自动生成。

![](../images/K-meansClustering3.png)

##线图

线图是用线条来表示变量之间的关系。

执行一个线图分析步骤如下：

1.进入'分析'标签，定义你所想要分析的案例，通过拖放一个或多个主题放到空的子集定义栏。例如，拖动'GSE858'节点到子集1中。
* 只有一个子集可以被指定在这个分析方法中，在子集2中的信息将会被忽略。


2.进入'高级工作流'标签，点击'分析'选择按钮，选择'线图'。

![](../images/advanceAnalyses110.png)

3.从树中拖拽一个或多个数值或高维度节点放入时间测量概念中，从树中拖拽一个或多个可分类的节点放入组的概念中。例如（由于案例有限）选择'Lung'节点。再选择你喜欢的图类型，点击启用装箱。

![](../images/advanceAnalyses111.png)


4.点击'运行'按钮，你的分析如下：

![](../images/advanceAnalyses112.png)

##线性回归后的散布图
散布图数据集中两个变量的值，用一条最适合数据斜度的线。

执行一个线性回归后的散布图分析步骤如下：

1.进入'分析'标签，定义你所想要分析的案例，通过拖放一个或多个主题放到空的子集定义栏。例如，拖动'female'节点到子集1中。
* 只有一个子集可以被指定在这个分析方法中，在子集2中的信息将会被忽略。


2.进入'高级工作流'标签，点击'分析'选择按钮，选择'线性回归后的散布图'。

![](../images/advanceAnalyses107.png)

3.变量选择的部分出现了。你需要定义哪些变量是独立变量，哪些变量是因变量。两个变量都需要是连续的。例如'年龄'和'身高'。

![](../images/advanceAnalyses108.png)


4.点击'运行'按钮，你的分析如下：

![](../images/advanceAnalyses109.png)


##生存分析
生存分析显示了时间事件数据。

执行一个生存分析步骤如下：

1.运行tranSMART，点击'分析'标签。通过从一个案例中拖动一个或者多个概念到空的子集定义箱中来定义您希望分析的队列。

2.点击'高级工作流'标签，从'分析'下拉目录中选择'生存分析'。

![](../images/SurvivalAnalysis.png)

3.定义变量：

| 变量 | 是否是必须的？ | 定义 | 例子 |
| -- | -- | -- | -- |
| 时间 | 是 | 是tranSMART中的一个数值域 | ![](../images/SurvivalAnalysis1.png) |
| 类别 | 否 | 从导航树中拖入一个概念到输入箱中，这个概念将会控制那些数据将会被分割以便比较它们的生存时间的分组。<br />如果变量是连续型的，那么变量就需要进行分箱。| ![](../images/SurvivalAnalysis2.png) |
| 审查变量 | 否 | 指定哪些患者的事件的时间被测量。例如如果时间变量选取的是总体生存时间(年)，一个适当的审查变量是患者的死亡时间 | ![](../images/SurvivalAnalysis3.png) |

* 实际定义变量如下：

![](../images/SurvivalAnalysis4.png)

4.点击'运行'按钮，您的分析结果如下：

![](../images/SurvivalAnalysis5.png)

##瀑布图
瀑布图采用绝对值与相对值结合的方式，适用于表达数个特定数值之问的数量变化关系。

生成一个瀑布图步骤如下：

1.运行tranSMART，点击'分析'标签。通过从一个案例中拖动一个或者多个概念到空的子集定义箱中来定义您希望分析的队列。

2.点击'高级工作流'标签，从'分析'下拉目录中选择'瀑布图'。

![](../images/Waterfall.png)

3.从数据集管理器中选择一个连续变量，并将其拖入箱中。然后设置变量的低范围和高范围。

![](../images/Waterfall1.png)

4.点击'运行'按钮，生成瀑布图：

![](../images/Waterfall2.png)
